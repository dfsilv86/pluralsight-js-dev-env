<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=301879
  -->
<configuration>
  <configSections>
    <sectionGroup name="applicationSettings" type="System.Configuration.ApplicationSettingsGroup, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
      <section name="Walmart.Sgp.WebApi.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    </sectionGroup>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
  </configSections>
  <appSettings>
    <!-- 2 minutos -->
    <add key="SGP:CommandTimeout" value="120" />

    <!-- 2 dias: 48 * 60 = 2880-->
    <add key="SGP:TokenLifetimeMinutes" value="2880" />

    <!-- TODO: armazenar essa chave em um arquivo de certificado. -->
    <add key="SGP:TokenSecret" value="3XFiQ6RCinRBEeww6+PX55daOSMLgTyTYO9wsj46FnG6q1dJr4WfRDkbcxw2oyfYpbyTeqcA7rLDNIBGbNN4Hkg7veSnsd1j0DVMnFfkyqo25diWZOgKOJGWTl/+MNl7" />

    <add key="SGP:ReportServer:User" value="Svcaccsgprs" />
    <add key="SGP:ReportServer:Password" value="ytrewQ1" />
    <add key="SGP:ReportServer:Url" value="http://labbrnts5018/ReportServer?/REE/RA2016/DEV/SGP/" />

    <add key="SGP:InventarioAgendamento:DiasLimiteExpurgo" value="90" />

    <add key="SGP:Inventario:StorageRoot" value="" />
    <add key="SGP:Inventario:CaminhoDownload" value="Resources\TempDownloadFtp" />
    <add key="SGP:Inventario:ExtensaoArquivo" value=".Z" />
    <add key="SGP:Inventario:PrefixoArquivoPipe" value="CINV" />
    <add key="SGP:Inventario:PrefixoArquivoRtl" value="spi28." />
    <add key="SGP:Inventario:DiasPermanenciaArquivos" value="60" />

    <add key="SGP:FileVault:StorageRoot" value="\\10.135.96.13\Apps\Temp" />
    <add key="SGP:FileVault:Staging" value="Resources\TempUploads" />
	  <add key="SGP:FileVault:MaxAge" value="1" />
	  <!-- TimeSpan, permite especificar até em horas no formato HH:mm:ss -->

    <add key="SGP:Processing:StorageRoot" value="\\10.135.96.13\Apps\Temp" />
    <add key="SGP:Processing:EnableQueueing" value="true" />
    <add key="SGP:Processing:InputFiles" value="Resources\Processing\InputFiles" />
    <add key="SGP:Processing:Results" value="Resources\Processing\Results" />
	  <add key="SGP:Processing:MaxAge" value="31" />
	  <!-- TimeSpan, permite especificar até em horas no formato HH:mm:ss -->

    <add key="SGP:SMTP:Server" value="smtp.wal-mart.com" />
    <add key="SGP:SMTP:Port" value="25" />
    <add key="SGP:SMTP:User" value="" />
    <add key="SGP:SMTP:Password" value="" />
    <add key="SGP:SMTP:Domain" value="" />
    <add key="SGP:SMTP:FromAddress" value="sgp-noreply@walmart.com" />
    <add key="SGP:SMTP:FromDisplayName" value="SGP - Solução de Pereciveis" />

    <add key="SGP:CargaMassivaVendorPrimario:EmailsRetornoImportacao" value="Caio.Schunck@walmart.com;Maxwel.Peruchi@walmart.com;Pablo.Brodt@walmart.com;Rafael.Bueno@walmart.com" />
  </appSettings>
  <connectionStrings>
    <!-- DEV -->
    <add name="WLMSLP" connectionString="Initial Catalog=PS_STORE;Data Source=DAVID-LAPTOP; Application Name=Solução de Perecíveis; User Id=sa; password=davidsilva" providerName="System.Data.SqlClient" />
  </connectionStrings>

  <log4net>
    <appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="..\logs\WebApi-log.txt" />
      <appendToFile value="true" />
      <rollingStyle value="Size" />
      <maxSizeRollBackups value="10" />
      <maximumFileSize value="100KB" />
      <staticLogFileName value="true" />
      <ImmediateFlush value="true" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%d{dd/MM/yy HH:mm:ss} [%level%] %m%newline" />
      </layout>
    </appender>
    <root>
      <level value="DEBUG" />
      <appender-ref ref="RollingFileAppender" />
    </root>
  </log4net>

  <system.web>
    <compilation debug="true" targetFramework="4.5.2" />
    <httpRuntime targetFramework="4.5.2" executionTimeout="360" maxRequestLength="8192"/>
    <httpModules />
  </system.web>

  <location path="auth">
    <system.web>
      <authorization>
        <allow users="?" />
      </authorization>
    </system.web>
  </location>

  <system.webServer>

    <validation validateIntegratedModeConfiguration="false" />
    <modules>
      <remove name="WebDAVModule" />
    </modules>
    <handlers>
      <remove name="WebDAV" />
      <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
      <remove name="OPTIONSVerbHandler" />
      <remove name="TRACEVerbHandler" />
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="*" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
    </handlers>
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.5.2.14234" newVersion="1.5.2.14234" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Http" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="RouteMagic" publicKeyToken="84b59be021aa4cee" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.3.0.0" newVersion="1.3.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Antlr3.Runtime" publicKeyToken="eb42632606e9261f" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.5.0.2" newVersion="3.5.0.2" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>

  <system.serviceModel>
    <bindings>
      <customBinding>
        <binding name="ServiceWebGuardianSoap">
          <textMessageEncoding messageVersion="Soap12" />
          <httpTransport  maxReceivedMessageSize="10485760"/>
        </binding>
      </customBinding>
    </bindings>
    <client>
      <endpoint address="http://labbrnts2598a.br.wal-mart.com/Walmart.WebGuardian.SOAP/servicewebguardian.asmx" binding="customBinding" bindingConfiguration="ServiceWebGuardianSoap" contract="Importing.WebGuardian.ServiceWebGuardianSoap" name="ServiceWebGuardianSoap" />
    </client>
  </system.serviceModel>
  <applicationSettings>
    <Walmart.Sgp.WebApi.Properties.Settings>
      <setting name="EmailDomain" serializeAs="String">
        <value>cwi.com.br</value>
      </setting>
      <setting name="SsoApplicationCode" serializeAs="String">
        <value>95</value>
      </setting>
    </Walmart.Sgp.WebApi.Properties.Settings>
  </applicationSettings>
</configuration>