<div class="lock-backdrop"></div>
<div class="dialog" ng-if="settings.isLogin">
    <div class="box">
        <div class="content">
            <form role="form" name="formLogin" class="form-vertical" novalidate="novalidate">
                <h3 class="form-title">{{::'login'|translate}}</h3>
                <div class="alert alert-warning" ng-if="data.papeis == null">
                    {{::'loginWarning'|translate}}
                </div>

                <div class="form-group" ng-if="data.papeis == null">
                    <div class=" input-icon">
                        <i class="icon-user"></i>
                        <input type="text" name="user" ng-model="user.userName" required class="form-control" placeholder="{{::'user'|translate}}" autofocus="autofocus" default-action="login()" grab-focus="!!open && !isLocked" />
                    </div>
                </div>
                <div class="form-group" ng-if="data.papeis == null">
                    <div class="input-icon">
                        <i class="icon-lock"></i>
                        <input type="password" name="password" ng-model="user.password" required class="form-control" placeholder="{{::'password'|translate}}" default-action="login()" />
                    </div>
                </div>
                <div class="form-group" ng-if="data.papeis != null">
                    <label>{{::'profile'|translate|capitalize}}</label>
                    <select ui-select2 class="dropdown full-width-fix" data-placeholder="Selecione..." ng-model="user.idExternoPapel" required grab-focus="!!data.papeis && !user.idExternoPapel">
                        <option></option>
                        <option ng-repeat="item in data.papeis" value="{{::item.idExterno}}">{{::item.name}}</option>
                    </select>
                </div>
                <div class="form-group" ng-if="data.lojas != null && data.lojas.length > 0">
                    <label>{{::'store'|translate|capitalize}}</label>
                    <select ui-select2 class="dropdown full-width-fix" data-placeholder="Selecione..." ng-model="user.idLoja" required grab-focus="(!data.papeis || !!user.idExternoPapel) && !!data.lojas && !user.idLoja">
                        <option></option>
                        <option ng-repeat="item in data.lojas" value="{{::item.id}}">{{::item|storeProfile}}</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button class="btn btn-primary" ng-disabled="formLogin.$invalid" ng-click="login()" grab-focus="!!user.idExternoPapel && (!data.lojas || !!user.idLoja)">
                        {{::'enter'|translate}}&nbsp;<i class="icon-angle-right"></i>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="dialog" ng-if="settings.isLocked">
    <div class="box">
        <div class="content">
            <form role="form" name="formUnlock" class="form-vertical" novalidate="novalidate">
                <h3 class="form-title">{{::'screenLocked'|translate}}</h3>
                <div class="alert alert-warning" ng-if="!!lockNotice">
                    {{::lockNotice}}
                </div>
                <div class="form-group">
                    <div class=" input-icon">
                        <i class="icon-user"></i>
                        <input type="text" name="user" value="{{user.userName}}" readonly class="form-control" disabled />
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-icon">
                        <i class="icon-lock"></i>
                        <input type="password" name="password" ng-model="user.password" required class="form-control" placeholder="{{::'password'|translate}}" default-action="unlock()" grab-focus="!!open && !!isLocked" />
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-primary" ng-disabled="formUnlock.$invalid" ng-click="unlock()">
                        {{::'doUnlockScreen'|translate}}&nbsp;<i class="icon-angle-right"></i>
                    </button>
                    <button class="btn btn-danger" ng-click="logout()">
                        <i class="icon-angle-left"></i>&nbsp;{{::'logAsAnotherUser'|translate}}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="dialog" ng-if="settings.isChangePassword">
    <div class="box">
        <div class="content">
            <form role="form" name="formChangePassword" class="form-vertical" novalidate="novalidate">
                <h3 class="form-title">{{::'changePassword'|translate}}</h3>
                <div class="form-group">
                    <label for="user">{{ ::'user'|translate}}:</label>
                    <div class=" input-icon">
                        <i class="icon-user"></i>
                        <input type="text" name="user" ng-model="user.userName" required class="form-control" ng-disabled="settings.blockUserName" placeholder="{{::'user'|translate}}" grab-focus="!settings.blockUserName" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="currentPassword">{{ ::'currentPassword'|translate}}:</label>
                    <div class="input-icon">
                        <i class="icon-lock"></i>
                        <input type="password" name="currentPassword" ng-model="user.currentPassword" required class="form-control" placeholder="{{::'password'|translate}}" grab-focus="settings.blockUserName" default-action="changePassword()" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="newPassword">{{::'newPassword'|translate}}:</label>
                    <div class="input-icon">
                        <i class="icon-lock"></i>
                        <input type="password" name="newPassword" ng-model="user.newPassword" required class="form-control" placeholder="{{::'newPassword'|translate}}" default-action="changePassword()" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">{{::'confirmPassword'|translate}}:</label>
                    <div class="input-icon">
                        <i class="icon-lock"></i>
                        <input type="password" name="confirmPassword" ng-model="user.confirmPassword" required class="form-control" placeholder="{{::'confirmPassword'|translate}}" default-action="changePassword()" />
                    </div>
                </div>
                <div class="alert alert-warning">
                    {{ ::'passwordRule'|translate }}
                </div>
                <div class="form-actions">
                    <button class="btn btn-primary" ng-disabled="formAlterarSenha.$invalid" ng-click="changePassword()">
                        {{::'changePassword'|translate}}&nbsp;<span class="icon-angle-right"></span>
                    </button>
                    <button class="btn btn-default" ng-if="!!settings.canCancel" ng-click="close()">
                        <span class="icon-angle-left"></span>&nbsp;{{::'cancel'|translate}}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
